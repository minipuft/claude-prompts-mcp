# Act Configuration for Claude Prompts MCP
# Optimized for local CI testing with comprehensive platform support and performance enhancements

# Primary platform mappings - Ubuntu versions
-P ubuntu-latest=catthehacker/ubuntu:act-22.04
-P ubuntu-20.04=catthehacker/ubuntu:act-20.04
-P ubuntu-18.04=catthehacker/ubuntu:act-18.04

# Windows platform mappings
# Note: True Windows containers require Windows Docker mode; using Ubuntu for cross-platform compatibility
-P windows-latest=catthehacker/ubuntu:act-22.04
-P windows-2022=catthehacker/ubuntu:act-22.04
-P windows-2019=catthehacker/ubuntu:act-22.04

# macOS platform mappings  
# Note: ACT runs Linux containers; macOS simulation through Ubuntu
-P macos-latest=catthehacker/ubuntu:act-22.04
-P macos-13=catthehacker/ubuntu:act-22.04
-P macos-12=catthehacker/ubuntu:act-22.04

# Environment variables for proper CI simulation
--env ACT=true
--env CI=true
--env NODE_ENV=test

# Container configuration for better performance
--container-architecture linux/amd64

# Artifact server configuration
--artifact-server-path /tmp/artifacts

# Resource limits to prevent container issues
--container-cap-add SYS_PTRACE

# Networking and Docker integration
--container-daemon-socket /var/run/docker.sock

# Verbose output for debugging
--verbose