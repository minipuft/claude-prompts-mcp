{
  "version": "3.0.0",
  "lastUpdated": "2026-01-18T12:35:23.259Z",
  "generatedFrom": "contracts",
  "tools": {
    "prompt_engine": {
      "description": "üöÄ PROMPT ENGINE: Execute prompts with methodology guidance and ground-truth validation.\n\nSYNTAX:\n- >>prompt_id key:\"value\"              # Run prompt with arguments\n- >>prompt * N                         # Repeat N times (chain shorthand)\n- >>step1 --> >>step2                  # Chain multiple steps\n- @Framework >>prompt                  # Apply methodology (CAGEERF, ReACT, etc.)\n- :: verify:\"npm test\" :full          # Shell validation (5 attempts, 5min)\n- :: verify:\"cmd\" loop:true            # Autonomous until pass\n\nREPETITION: * N unfolds to chain (>>p * 3 = >>p --> >>p --> >>p)\nPRESETS: :fast (1 try), :full (5 tries), :extended (10 tries)\nMODIFIERS: %clean (no injection), %lean (gates only), %judge (preview)\n",
      "shortDescription": "Execute prompts with validation and methodology",
      "category": "execution",
      "parameters": {
        "command": "Prompt ID to expand. Format: >>prompt_id key=\"value\" | Chains: >>s1 --> >>s2 | Modifiers first: @Framework :: \"criteria\" %clean/%lean | Shell verify: :: verify:\"cmd\" :preset",
        "chain_id": "Resume token (chain-{prompt} or chain-{prompt}#runNumber). RESUME: chain_id + user_response only. Omit command.",
        "user_response": "Your completed output from executing the previous step. Paste your work here when resuming a chain. Use with chain_id; do not include command when resuming.",
        "gate_verdict": "Gate review verdict with flexible format support. Primary: 'GATE_REVIEW: PASS|FAIL - reason'. Also accepts: 'GATE PASS - reason', 'GATE_REVIEW: FAIL: reason', 'PASS - reason' (minimal).",
        "gate_action": "User choice after gate retry limit exhaustion. 'retry' resets attempt count for another try, 'skip' bypasses the failed gate and continues, 'abort' stops chain execution entirely.",
        "gates": {
          "type": "array",
          "description": "Quality gates for output validation. Four formats supported:\n\n**1. Registered IDs** (strings): Use predefined gates like 'code-quality', 'research-quality'.\n\n**2. Quick Gates** (RECOMMENDED for LLM-generated validation): `{name, description}` - Create named, domain-specific checks on the fly. Example: `{name: 'Source Quality', description: 'All sources must be official docs'}`.\n\n**3. Full Definitions**: Complete schema with severity, criteria[], pass_criteria[], guidance for production workflows.\n\n**4. Shell Verification** (ground-truth validation): `:: verify:\"command\"` runs shell commands; exit 0 = PASS.\n   - **Presets**: `:fast` (1 attempt, 30s), `:full` (5 attempts, 5min), `:extended` (10 attempts, 10min)\n   - **Options**: `max:N` (attempts), `timeout:N` (seconds), `loop:true` (autonomous Stop hook)\n   - **Example**: `>>fix-bug :: verify:\"npm test\" :full loop:true`"
        },
        "force_restart": "Restart chain from step 1, ignoring cached state.",
        "options": "Execution options forwarded downstream."
      },
      "frameworkAware": {
        "enabled": "üöÄ PROMPT ENGINE [FRAMEWORK]: Returns prompts with methodology guidance injected. You apply the methodology yourself.",
        "disabled": "üöÄ PROMPT ENGINE: Returns prompts without methodology injection. Raw template expansion only."
      },
      "triggerExamples": [
        "User: '>>analyze this code' ‚Üí prompt_engine(command: '>>analyze this code')",
        "User: 'fix tests' ‚Üí prompt_engine(command: '>>fix-bug :: verify:\"npm test\" :full')"
      ]
    },
    "resource_manager": {
      "description": "üóÇÔ∏è RESOURCE MANAGER: CRUD for prompts, gates, methodologies, checkpoints.\n\nresource_manager(resource_type, action, id?, name?, description?)\n\nTYPES: prompt | gate | methodology | checkpoint\nACTIONS: create | update | delete | list | inspect | reload | guide | switch | history | rollback | compare | clear\n\nVERSIONING: history (view versions), rollback (restore), compare (diff versions)\nCHECKPOINT: create (save state), rollback (restore), list (show all), delete (remove), clear (remove all)\n\nCREATION GUIDES:\n‚Ä¢ >>create_methodology - Framework creation with validation\n‚Ä¢ >>create_gate - Quality gate creation\n‚Ä¢ >>create_prompt - Prompt/chain creation",
      "shortDescription": "Manage prompts, gates, methodologies, and checkpoints",
      "category": "management",
      "parameters": {
        "resource_type": "Type of resource to manage. Routes to appropriate handler.",
        "action": "Operation to perform. Type-specific: analyze_type/guide (prompt), switch (methodology), clear (checkpoint). Versioning: history/rollback/compare (prompt/gate/methodology). Checkpoint: create/rollback/list/delete/clear.",
        "id": "Resource identifier. Required for create, update, delete, inspect, reload, switch.",
        "name": "Human-friendly name for the resource (create/update).",
        "description": "Resource description explaining its purpose (create/update).",
        "enabled_only": "Filter list to enabled resources only. Default: true.",
        "confirm": "Safety confirmation for delete operation.",
        "reason": "Audit reason for reload/delete/switch operations."
      },
      "frameworkAware": {
        "enabled": "üóÇÔ∏è RESOURCE MANAGER [FRAMEWORK]: Operations reflect active methodology context.",
        "disabled": "üóÇÔ∏è RESOURCE MANAGER: Standard resource lifecycle operations."
      }
    },
    "system_control": {
      "description": "‚öôÔ∏è SYSTEM CONTROL: Retrieves system status, switches frameworks, manages gates, and provides analytics.\n\nACTIONS: status | framework | gates | analytics | config | maintenance | guide | session\n\nReturns: Current state, configurations, or operation confirmations.",
      "shortDescription": "System administration",
      "category": "system",
      "parameters": {
        "action": "The operation to perform: status (runtime overview), framework (switch/enable/disable methodologies), gates (manage quality gates), analytics (usage metrics), config (view/modify settings), maintenance (restart), guide (get recommendations), session (manage execution sessions).",
        "operation": "Sub-command for the selected action (e.g., framework switch/list/enable/disable; gates enable/disable/status/health/list; session list/clear/inspect).",
        "session_id": "Target session ID or chain ID for session operations.",
        "framework": "Target framework for switch operations. Use system_control(action:'framework', operation:'list') to see available frameworks.",
        "reason": "Audit reason for framework/gate toggles or admin actions.",
        "persist": "When true, gate/framework enable/disable changes are also written to config.json.",
        "show_details": "Include detailed output (status/analytics/framework/gate reports).",
        "include_history": "Include recorded history where supported.",
        "topic": "Guide topic when requesting guidance.",
        "search_query": "Filter gates by keyword (matches ID, name, or description). Use with gates:list action."
      },
      "frameworkAware": {
        "enabled": "‚öôÔ∏è SYSTEM CONTROL [FRAMEWORK]: Status includes active methodology context. Guide reflects current framework.",
        "disabled": "‚öôÔ∏è SYSTEM CONTROL: Standard system status without methodology context."
      }
    }
  }
}
