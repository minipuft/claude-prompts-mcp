# ACT Configuration for Claude Prompts MCP
# Optimized for local CI testing with proper matrix handling

# Use updated Ubuntu image for better compatibility
-P ubuntu-latest=catthehacker/ubuntu:act-22.04

# Set environment variables that ACT provides
--env ACT=true
--env CI=true
--env NODE_ENV=test

# Container configuration for better performance
--container-architecture linux/amd64

# Artifact server configuration
--artifact-server-path /tmp/artifacts

# Platform mappings for cross-platform testing
# Note: ACT primarily runs Linux containers, Windows/macOS testing is limited
-P windows-latest=catthehacker/ubuntu:act-22.04
-P macos-latest=catthehacker/ubuntu:act-22.04

# Resource limits to prevent container issues
--container-cap-add SYS_PTRACE

# Networking
--container-daemon-socket /var/run/docker.sock
