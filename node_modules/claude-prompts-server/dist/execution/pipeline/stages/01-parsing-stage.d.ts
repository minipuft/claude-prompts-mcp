import { BasePipelineStage } from '../stage.js';
import type { ChainSessionService } from '../../../chain-session/types.js';
import type { Logger } from '../../../logging/index.js';
import type { ConvertedPrompt } from '../../../types/index.js';
import type { ExecutionContext } from '../../context/execution-context.js';
import type { ArgumentParser } from '../../parsers/argument-parser.js';
import type { UnifiedCommandParser } from '../../parsers/command-parser.js';
/**
 * Canonical Pipeline Stage 1: Command Parsing
 *
 * Parses incoming commands using UnifiedCommandParser, resolves arguments,
 * and builds symbolic chains for operator-based workflows.
 *
 * Dependencies: None (always runs first)
 * Output: context.parsedCommand, context.symbolicChain (if operators detected)
 * Can Early Exit: Yes (if parsing fails)
 */
export declare class CommandParsingStage extends BasePipelineStage {
    private readonly commandParser;
    private readonly argumentParser;
    private readonly chainSessionManager?;
    readonly name = "CommandParsing";
    private readonly convertedPrompts;
    private readonly promptLookup;
    constructor(commandParser: UnifiedCommandParser, argumentParser: ArgumentParser, convertedPrompts: ConvertedPrompt[], logger: Logger, chainSessionManager?: ChainSessionService | undefined);
    execute(context: ExecutionContext): Promise<void>;
    private createPromptLookup;
    private findConvertedPrompt;
    private buildSymbolicCommand;
    private buildSingleSymbolicPrompt;
    private buildSymbolicChain;
    private createArgumentContext;
    private hasChainOperator;
    private resolveArgumentPayload;
    private parseArgumentsSafely;
    private collectGlobalInlineCriteria;
    private restoreFromBlueprint;
    private cloneParsedCommand;
    private cloneExecutionPlan;
    private cloneBlueprint;
    private getStepArgumentInput;
}
