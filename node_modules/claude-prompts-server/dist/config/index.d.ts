/**
 * Configuration Management Module
 * Handles loading and validation of server configuration from config.json
 */
import { EventEmitter } from 'events';
import { Config, AnalysisConfig, SemanticAnalysisConfig, LoggingConfig, FrameworksConfig, ChainSessionConfig, JudgeConfig, GatesConfig } from '../types/index.js';
import { type InjectionConfig } from '../execution/pipeline/decisions/injection/index.js';
/**
 * Configuration manager class
 */
export declare class ConfigManager extends EventEmitter {
    private config;
    private configPath;
    private fileWatcher?;
    private watching;
    private reloadDebounceTimer?;
    private frameworksConfigCache;
    constructor(configPath: string);
    /**
     * Load configuration from file
     */
    loadConfig(): Promise<Config>;
    /**
     * Get current configuration
     */
    getConfig(): Config;
    /**
     * Get server configuration
     */
    getServerConfig(): import("../types.js").ServerConfig;
    /**
     * Get prompts configuration
     */
    getPromptsConfig(): import("../prompts/types.js").PromptsConfig;
    /**
     * Get global registerWithMcp default from prompts config
     * Returns undefined if not specified (allowing downstream defaults)
     */
    getPromptsRegisterWithMcp(): boolean | undefined;
    /**
     * Get transports configuration
     */
    getTransportsConfig(): import("../types.js").TransportsConfig;
    /**
     * Get analysis configuration
     */
    getAnalysisConfig(): AnalysisConfig;
    /**
     * Get semantic analysis configuration
     */
    getSemanticAnalysisConfig(): SemanticAnalysisConfig;
    /**
     * Get logging configuration with environment variable override
     * Supports LOG_LEVEL env var to override configured log level
     */
    getLoggingConfig(): LoggingConfig;
    /**
     * Get frameworks configuration
     */
    getFrameworksConfig(): FrameworksConfig;
    /**
     * Get gates configuration
     */
    getGatesConfig(): GatesConfig;
    /**
     * Get chain session lifecycle configuration
     */
    getChainSessionConfig(): ChainSessionConfig;
    /**
     * Get judge selection system configuration
     */
    getJudgeConfig(): JudgeConfig;
    /**
     * Get injection control configuration.
     * Supports backward compatibility with frameworks.systemPromptReinjectionFrequency.
     */
    getInjectionConfig(): InjectionConfig;
    /**
     * Get the port number, with environment variable override
     */
    getPort(): number;
    /**
     * Determine transport from command line arguments, environment variable, or configuration
     * Priority: CLI args > MCP_TRANSPORT env > config.transports.default
     */
    getTransport(args: string[]): string;
    /**
     * Get config file path
     */
    getConfigPath(): string;
    /**
     * Get prompts file path relative to config directory
     */
    getPromptsFilePath(): string;
    /**
     * Resolve prompts file path with environment overrides and absolute fallback.
     * Honors MCP_SERVER_ROOT (for relative overrides) and MCP_PROMPTS_CONFIG_PATH.
     */
    getResolvedPromptsFilePath(overridePath?: string): string;
    /**
     * Get server root directory path
     */
    getServerRoot(): string;
    /**
     * Validate configuration and set defaults for missing properties
     */
    private validateAndSetDefaults;
    /**
     * Validate and merge analysis configuration with defaults
     */
    private validateAnalysisConfig;
    /**
     * Start watching the configuration file for changes
     */
    startWatching(debounceMs?: number): void;
    /**
     * Stop watching the configuration file
     */
    stopWatching(): void;
    /**
     * Shutdown the config manager and cleanup resources
     * Prevents async handle leaks by stopping file watcher and removing listeners
     */
    shutdown(): void;
    private handleExternalConfigChange;
    private emitConfigChange;
    private haveFrameworkConfigsChanged;
}
/**
 * Create and initialize a configuration manager
 */
export declare function createConfigManager(configPath: string): Promise<ConfigManager>;
