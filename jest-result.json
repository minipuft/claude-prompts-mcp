{"numFailedTestSuites":0,"numFailedTests":0,"numPassedTestSuites":39,"numPassedTests":303,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":39,"numTotalTests":303,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1763312522201,"success":true,"testResults":[{"assertionResults":[{"ancestorTitles":["ArgumentHistoryTracker","trackExecution"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker trackExecution tracks single prompt execution with arguments","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"tracks single prompt execution with arguments"},{"ancestorTitles":["ArgumentHistoryTracker","trackExecution"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker trackExecution tracks chain execution with session ID","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"tracks chain execution with session ID"},{"ancestorTitles":["ArgumentHistoryTracker","trackExecution"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker trackExecution tracks multiple steps in chain execution","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"tracks multiple steps in chain execution"},{"ancestorTitles":["ArgumentHistoryTracker","trackExecution"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker trackExecution enforces max entries per chain limit (FIFO)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"enforces max entries per chain limit (FIFO)"},{"ancestorTitles":["ArgumentHistoryTracker","trackExecution"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker trackExecution returns defensive copy of arguments","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns defensive copy of arguments"},{"ancestorTitles":["ArgumentHistoryTracker","retrieval methods"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker retrieval methods getChainHistory retrieves all entries for chain","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"getChainHistory retrieves all entries for chain"},{"ancestorTitles":["ArgumentHistoryTracker","retrieval methods"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker retrieval methods getSessionHistory retrieves entries by session ID","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"getSessionHistory retrieves entries by session ID"},{"ancestorTitles":["ArgumentHistoryTracker","retrieval methods"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker retrieval methods getLatestArguments returns most recent arguments","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"getLatestArguments returns most recent arguments"},{"ancestorTitles":["ArgumentHistoryTracker","retrieval methods"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker retrieval methods getLatestArguments returns null for non-existent session","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"getLatestArguments returns null for non-existent session"},{"ancestorTitles":["ArgumentHistoryTracker","retrieval methods"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker retrieval methods retrieval methods return defensive copies","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"retrieval methods return defensive copies"},{"ancestorTitles":["ArgumentHistoryTracker","buildReviewContext"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker buildReviewContext builds review context with original args and previous results","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"builds review context with original args and previous results"},{"ancestorTitles":["ArgumentHistoryTracker","buildReviewContext"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker buildReviewContext builds context with empty session gracefully","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"builds context with empty session gracefully"},{"ancestorTitles":["ArgumentHistoryTracker","buildReviewContext"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker buildReviewContext builds context without step numbers","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"builds context without step numbers"},{"ancestorTitles":["ArgumentHistoryTracker","buildReviewContext"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker buildReviewContext calculates total steps correctly from max step number","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"calculates total steps correctly from max step number"},{"ancestorTitles":["ArgumentHistoryTracker","cleanup and session management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker cleanup and session management clearSession removes session history","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"clearSession removes session history"},{"ancestorTitles":["ArgumentHistoryTracker","cleanup and session management"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker cleanup and session management clearChain removes chain history","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"clearChain removes chain history"},{"ancestorTitles":["ArgumentHistoryTracker","cleanup and session management"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker cleanup and session management clearAll removes all history","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"clearAll removes all history"},{"ancestorTitles":["ArgumentHistoryTracker","cleanup and session management"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker cleanup and session management hasSessionHistory returns correct status","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"hasSessionHistory returns correct status"},{"ancestorTitles":["ArgumentHistoryTracker","statistics"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker statistics getStats returns accurate statistics","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"getStats returns accurate statistics"},{"ancestorTitles":["ArgumentHistoryTracker","statistics"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker statistics getStats handles empty tracker","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"getStats handles empty tracker"},{"ancestorTitles":["ArgumentHistoryTracker","file persistence"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker file persistence saves and loads history from file","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"saves and loads history from file"},{"ancestorTitles":["ArgumentHistoryTracker","file persistence"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker file persistence handles missing persistence file gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"handles missing persistence file gracefully"},{"ancestorTitles":["ArgumentHistoryTracker","file persistence"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker file persistence shutdown saves final state","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"shutdown saves final state"},{"ancestorTitles":["ArgumentHistoryTracker","edge cases and error handling"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker edge cases and error handling handles empty arguments object","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"handles empty arguments object"},{"ancestorTitles":["ArgumentHistoryTracker","edge cases and error handling"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker edge cases and error handling handles missing optional fields","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"handles missing optional fields"},{"ancestorTitles":["ArgumentHistoryTracker","edge cases and error handling"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker edge cases and error handling handles large argument payloads","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"handles large argument payloads"},{"ancestorTitles":["ArgumentHistoryTracker","edge cases and error handling"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker edge cases and error handling session-to-chain mapping updates correctly","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"session-to-chain mapping updates correctly"},{"ancestorTitles":["ArgumentHistoryTracker","performance"],"duration":654,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker performance tracking overhead is minimal (<5ms per call)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"tracking overhead is minimal (<5ms per call)"},{"ancestorTitles":["ArgumentHistoryTracker","performance"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentHistoryTracker performance handles concurrent session tracking","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"handles concurrent session tracking"}],"endTime":1763312523196,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/text-references/argument-history-tracker.test.ts","startTime":1763312522378,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Application startup (prompt loading)"],"duration":41,"failureDetails":[],"failureMessages":[],"fullName":"Application startup (prompt loading) loads configuration and prompts when loadAndConvertPrompts is stubbed","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"loads configuration and prompts when loadAndConvertPrompts is stubbed"}],"endTime":1763312523672,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/runtime/application-startup.test.ts","startTime":1763312523201,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["StepExecutionStage","Chain Execution Path (executeChainStep)"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Chain Execution Path (executeChainStep) persists rendered step output and refreshes session context","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"persists rendered step output and refreshes session context"},{"ancestorTitles":["StepExecutionStage","Chain Execution Path (executeChainStep)"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Chain Execution Path (executeChainStep) passes structured arguments into chain context","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"passes structured arguments into chain context"},{"ancestorTitles":["StepExecutionStage","Chain Execution Path (executeChainStep)"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Chain Execution Path (executeChainStep) handles multi-step chain execution with correct step indexing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"handles multi-step chain execution with correct step indexing"},{"ancestorTitles":["StepExecutionStage","Chain Execution Path (executeChainStep)"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Chain Execution Path (executeChainStep) normalizes undefined args to empty object","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"normalizes undefined args to empty object"},{"ancestorTitles":["StepExecutionStage","Chain Execution Path (executeChainStep)"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Chain Execution Path (executeChainStep) includes session metadata in chain context and captures render result output","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"includes session metadata in chain context and captures render result output"},{"ancestorTitles":["StepExecutionStage","Chain Execution Path (executeChainStep)"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Chain Execution Path (executeChainStep) merges stored chain context while overriding per-step args","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"merges stored chain context while overriding per-step args"},{"ancestorTitles":["StepExecutionStage","Chain Execution Path (executeChainStep)"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Chain Execution Path (executeChainStep) clamps session currentStep values below 1 to the first step","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"clamps session currentStep values below 1 to the first step"},{"ancestorTitles":["StepExecutionStage","Chain Execution Path (executeChainStep)"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Chain Execution Path (executeChainStep) retrieves chain context snapshot using the session id","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"retrieves chain context snapshot using the session id"},{"ancestorTitles":["StepExecutionStage","Type Guard Integration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Type Guard Integration calls hasChainCommand before attempting chain execution","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"calls hasChainCommand before attempting chain execution"},{"ancestorTitles":["StepExecutionStage","Type Guard Integration"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Type Guard Integration falls back to single prompt execution when chain strategy lacks chain command","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"falls back to single prompt execution when chain strategy lacks chain command"},{"ancestorTitles":["StepExecutionStage","Type Guard Integration"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Type Guard Integration throws when non-chain strategy receives a chain command","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"throws when non-chain strategy receives a chain command"},{"ancestorTitles":["StepExecutionStage","Single Prompt Execution Path (executeSinglePrompt)"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Single Prompt Execution Path (executeSinglePrompt) executes single prompt with template processing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"executes single prompt with template processing"},{"ancestorTitles":["StepExecutionStage","Single Prompt Execution Path (executeSinglePrompt)"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Single Prompt Execution Path (executeSinglePrompt) executes single prompt without system message","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"executes single prompt without system message"},{"ancestorTitles":["StepExecutionStage","Single Prompt Execution Path (executeSinglePrompt)"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Single Prompt Execution Path (executeSinglePrompt) includes framework system prompt when available","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"includes framework system prompt when available"},{"ancestorTitles":["StepExecutionStage","Single Prompt Execution Path (executeSinglePrompt)"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Single Prompt Execution Path (executeSinglePrompt) handles empty template gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"handles empty template gracefully"},{"ancestorTitles":["StepExecutionStage","Single Prompt Execution Path (executeSinglePrompt)"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Single Prompt Execution Path (executeSinglePrompt) skips duplicate framework instructions when system message already includes guidance","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"skips duplicate framework instructions when system message already includes guidance"},{"ancestorTitles":["StepExecutionStage","Single Prompt Execution Path (executeSinglePrompt)"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Single Prompt Execution Path (executeSinglePrompt) trims injected framework context before concatenation","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"trims injected framework context before concatenation"},{"ancestorTitles":["StepExecutionStage","Single Prompt Execution Path (executeSinglePrompt)"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Single Prompt Execution Path (executeSinglePrompt) uses prompt strategy metadata when execution plan strategy is prompt","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"uses prompt strategy metadata when execution plan strategy is prompt"},{"ancestorTitles":["StepExecutionStage","Single Prompt Execution Path (executeSinglePrompt)"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Single Prompt Execution Path (executeSinglePrompt) uses template strategy metadata when execution plan strategy is template","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"uses template strategy metadata when execution plan strategy is template"},{"ancestorTitles":["StepExecutionStage","Single Prompt Execution Path (executeSinglePrompt)"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Single Prompt Execution Path (executeSinglePrompt) fetches prompt args using getPromptArgs()","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"fetches prompt args using getPromptArgs()"},{"ancestorTitles":["StepExecutionStage","Single Prompt Execution Path (executeSinglePrompt)"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Single Prompt Execution Path (executeSinglePrompt) ignores whitespace-only framework prompts","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"ignores whitespace-only framework prompts"},{"ancestorTitles":["StepExecutionStage","Error Handling"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Error Handling throws error when execution plan is missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"throws error when execution plan is missing"},{"ancestorTitles":["StepExecutionStage","Error Handling"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Error Handling throws error for chain execution without session context","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"throws error for chain execution without session context"},{"ancestorTitles":["StepExecutionStage","Error Handling"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Error Handling throws error for chain execution without steps","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"throws error for chain execution without steps"},{"ancestorTitles":["StepExecutionStage","Error Handling"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Error Handling throws error for single prompt execution without converted prompt","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"throws error for single prompt execution without converted prompt"},{"ancestorTitles":["StepExecutionStage","Error Handling"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Error Handling handles chain operator executor errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"handles chain operator executor errors"},{"ancestorTitles":["StepExecutionStage","Error Handling"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Error Handling throws descriptive error when session exceeds available steps","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"throws descriptive error when session exceeds available steps"},{"ancestorTitles":["StepExecutionStage","Type-Safe Field Access"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Type-Safe Field Access safely accesses optional fields with proper null checks","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"safely accesses optional fields with proper null checks"},{"ancestorTitles":["StepExecutionStage","Type-Safe Field Access"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Type-Safe Field Access handles currentStep undefined gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"handles currentStep undefined gracefully"},{"ancestorTitles":["StepExecutionStage","Edge Cases and Boundary Conditions"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Edge Cases and Boundary Conditions skips execution when response already exists","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"skips execution when response already exists"},{"ancestorTitles":["StepExecutionStage","Edge Cases and Boundary Conditions"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Edge Cases and Boundary Conditions handles empty steps array in chain execution","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"handles empty steps array in chain execution"},{"ancestorTitles":["StepExecutionStage","Edge Cases and Boundary Conditions"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Edge Cases and Boundary Conditions handles gates in execution plan","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"handles gates in execution plan"},{"ancestorTitles":["StepExecutionStage","Edge Cases and Boundary Conditions"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StepExecutionStage Edge Cases and Boundary Conditions handles single prompt with gates","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"handles single prompt with gates"}],"endTime":1763312523840,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/execution/pipeline/step-execution-stage.test.ts","startTime":1763312523674,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["McpToolRequestValidator","validate()"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validate() should validate a minimal valid request","invocations":1,"location":null,"numPassingAsserts":12,"retryReasons":[],"status":"passed","title":"should validate a minimal valid request"},{"ancestorTitles":["McpToolRequestValidator","validate()"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validate() should validate a complete valid request","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate a complete valid request"},{"ancestorTitles":["McpToolRequestValidator","validate()"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validate() should reject empty command","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject empty command"},{"ancestorTitles":["McpToolRequestValidator","validate()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validate() should reject whitespace-only command","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject whitespace-only command"},{"ancestorTitles":["McpToolRequestValidator","validate()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validate() should reject null command","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject null command"},{"ancestorTitles":["McpToolRequestValidator","validate()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validate() should reject invalid session_id format","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject invalid session_id format"},{"ancestorTitles":["McpToolRequestValidator","validate()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validate() should reject invalid gate_verdict format","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject invalid gate_verdict format"},{"ancestorTitles":["McpToolRequestValidator","validate()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validate() should reject invalid execution_mode","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject invalid execution_mode"},{"ancestorTitles":["McpToolRequestValidator","validate()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validate() should reject invalid gate_mode","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject invalid gate_mode"},{"ancestorTitles":["McpToolRequestValidator","validate()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validate() should reject invalid gate_scope","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject invalid gate_scope"},{"ancestorTitles":["McpToolRequestValidator","validate()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validate() should reject invalid custom_checks structure","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject invalid custom_checks structure"},{"ancestorTitles":["McpToolRequestValidator","validate()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validate() should reject invalid temporary_gates structure","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should reject invalid temporary_gates structure"},{"ancestorTitles":["McpToolRequestValidator","validate()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validate() should freeze the returned object","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should freeze the returned object"},{"ancestorTitles":["McpToolRequestValidator","validate()"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validate() should handle multiple validation errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should handle multiple validation errors"},{"ancestorTitles":["McpToolRequestValidator","isValidCommand()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator isValidCommand() should return true for non-empty strings","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should return true for non-empty strings"},{"ancestorTitles":["McpToolRequestValidator","isValidCommand()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator isValidCommand() should return false for empty strings","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should return false for empty strings"},{"ancestorTitles":["McpToolRequestValidator","isValidCommand()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator isValidCommand() should return false for non-strings","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should return false for non-strings"},{"ancestorTitles":["McpToolRequestValidator","isValidSessionId()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator isValidSessionId() should return true for valid session IDs","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should return true for valid session IDs"},{"ancestorTitles":["McpToolRequestValidator","isValidSessionId()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator isValidSessionId() should return false for invalid session IDs","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should return false for invalid session IDs"},{"ancestorTitles":["McpToolRequestValidator","isValidSessionId()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator isValidSessionId() should return false for non-strings","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should return false for non-strings"},{"ancestorTitles":["McpToolRequestValidator","isValidGateVerdict()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator isValidGateVerdict() should return true for valid gate verdicts","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should return true for valid gate verdicts"},{"ancestorTitles":["McpToolRequestValidator","isValidGateVerdict()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator isValidGateVerdict() should return false for invalid gate verdicts","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should return false for invalid gate verdicts"},{"ancestorTitles":["McpToolRequestValidator","isValidGateVerdict()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator isValidGateVerdict() should return false for non-strings","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should return false for non-strings"},{"ancestorTitles":["McpToolRequestValidator","validateCommand()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validateCommand() should return trimmed command for valid input","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should return trimmed command for valid input"},{"ancestorTitles":["McpToolRequestValidator","validateCommand()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validateCommand() should throw for invalid command","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should throw for invalid command"},{"ancestorTitles":["McpToolRequestValidator","validateSessionId()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validateSessionId() should return session ID for valid input","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return session ID for valid input"},{"ancestorTitles":["McpToolRequestValidator","validateSessionId()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validateSessionId() should throw for invalid session ID","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should throw for invalid session ID"},{"ancestorTitles":["McpToolRequestValidator","validateGateVerdict()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validateGateVerdict() should return trimmed verdict for valid input","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should return trimmed verdict for valid input"},{"ancestorTitles":["McpToolRequestValidator","validateGateVerdict()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validateGateVerdict() should throw for invalid gate verdict","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should throw for invalid gate verdict"},{"ancestorTitles":["McpToolRequestValidator","validatePartial()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validatePartial() should validate partial request with valid fields","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should validate partial request with valid fields"},{"ancestorTitles":["McpToolRequestValidator","validatePartial()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validatePartial() should validate and trim command in partial request","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate and trim command in partial request"},{"ancestorTitles":["McpToolRequestValidator","validatePartial()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validatePartial() should validate session_id in partial request","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate session_id in partial request"},{"ancestorTitles":["McpToolRequestValidator","validatePartial()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validatePartial() should validate gate_verdict in partial request","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should validate gate_verdict in partial request"},{"ancestorTitles":["McpToolRequestValidator","validatePartial()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validatePartial() should throw for invalid command in partial request","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw for invalid command in partial request"},{"ancestorTitles":["McpToolRequestValidator","validatePartial()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validatePartial() should throw for invalid session_id in partial request","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw for invalid session_id in partial request"},{"ancestorTitles":["McpToolRequestValidator","validatePartial()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validatePartial() should throw for invalid gate_verdict in partial request","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw for invalid gate_verdict in partial request"},{"ancestorTitles":["McpToolRequestValidator","validatePartial()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validatePartial() should copy other fields as-is","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should copy other fields as-is"},{"ancestorTitles":["McpToolRequestValidator","validatePartial()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"McpToolRequestValidator validatePartial() should freeze the partial result","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should freeze the partial result"}],"endTime":1763312523930,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/mcp-tools/prompt-engine/request-validator.test.ts","startTime":1763312523845,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["CommandType Discriminant","Simple commands"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"CommandType Discriminant Simple commands assigns commandType: single for simple prompts","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"assigns commandType: single for simple prompts"},{"ancestorTitles":["CommandType Discriminant","Simple commands"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CommandType Discriminant Simple commands assigns commandType: single for JSON-wrapped simple prompts","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"assigns commandType: single for JSON-wrapped simple prompts"},{"ancestorTitles":["CommandType Discriminant","Chain commands"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CommandType Discriminant Chain commands assigns commandType: chain for symbolic chain operator (-->)","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"assigns commandType: chain for symbolic chain operator (-->)"},{"ancestorTitles":["CommandType Discriminant","Chain commands"],"duration":22,"failureDetails":[],"failureMessages":[],"fullName":"CommandType Discriminant Chain commands assigns commandType: chain for JSON-wrapped chain commands","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"assigns commandType: chain for JSON-wrapped chain commands"},{"ancestorTitles":["CommandType Discriminant","Chain commands"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CommandType Discriminant Chain commands assigns commandType: chain for multi-step chains","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"assigns commandType: chain for multi-step chains"},{"ancestorTitles":["CommandType Discriminant","Framework operator commands"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CommandType Discriminant Framework operator commands assigns commandType: single for framework operator without chain","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"assigns commandType: single for framework operator without chain"},{"ancestorTitles":["CommandType Discriminant","Framework operator commands"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CommandType Discriminant Framework operator commands assigns commandType: chain for framework operator with chain","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"assigns commandType: chain for framework operator with chain"},{"ancestorTitles":["CommandType Discriminant","Gate operator commands"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CommandType Discriminant Gate operator commands assigns commandType: single for gate operator without chain","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"assigns commandType: single for gate operator without chain"},{"ancestorTitles":["CommandType Discriminant","Gate operator commands"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CommandType Discriminant Gate operator commands assigns commandType: chain for gate operator with chain","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"assigns commandType: chain for gate operator with chain"}],"endTime":1763312524026,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/execution/validation/command-type-discriminant.test.ts","startTime":1763312523934,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["PromptEngine Validation","Parameter Validation"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"PromptEngine Validation Parameter Validation should reject conflicting force_restart and session_id parameters","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"should reject conflicting force_restart and session_id parameters"}],"endTime":1763312524112,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/mcp-tools/prompt-engine/prompt-engine-validation.test.ts","startTime":1763312524031,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["CommandParsingStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CommandParsingStage populates ExecutionContext with parsed command and arguments","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"populates ExecutionContext with parsed command and arguments"},{"ancestorTitles":["CommandParsingStage"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"CommandParsingStage extracts inline gates for single symbolic prompt","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"extracts inline gates for single symbolic prompt"},{"ancestorTitles":["CommandParsingStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CommandParsingStage parses multi-step symbolic chains with per-step inline gates","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"parses multi-step symbolic chains with per-step inline gates"},{"ancestorTitles":["CommandParsingStage"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CommandParsingStage promotes prompts with chainSteps to chain commandType and populates step metadata","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"promotes prompts with chainSteps to chain commandType and populates step metadata"},{"ancestorTitles":["CommandParsingStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CommandParsingStage collects inline criteria from operators when single-step payload omits them","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"collects inline criteria from operators when single-step payload omits them"},{"ancestorTitles":["CommandParsingStage"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CommandParsingStage falls back to step args when sanitized argument inputs are missing","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"falls back to step args when sanitized argument inputs are missing"}],"endTime":1763312524191,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/execution/pipeline/command-parsing-stage.test.ts","startTime":1763312524115,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ExecutionContext"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ExecutionContext getSessionId prefers MCP session id when available","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"getSessionId prefers MCP session id when available"},{"ancestorTitles":["ExecutionContext"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ExecutionContext getSessionId falls back to session context when MCP value missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"getSessionId falls back to session context when MCP value missing"},{"ancestorTitles":["ExecutionContext"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ExecutionContext getSessionId rejects invalid MCP session identifiers","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"getSessionId rejects invalid MCP session identifiers"},{"ancestorTitles":["ExecutionContext"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ExecutionContext getGateVerdict trims and returns undefined for empty input","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"getGateVerdict trims and returns undefined for empty input"},{"ancestorTitles":["ExecutionContext"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ExecutionContext isChainExecution reflects strategy, session state, parsed metadata, or session hints","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"isChainExecution reflects strategy, session state, parsed metadata, or session hints"},{"ancestorTitles":["ExecutionContext"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ExecutionContext getPromptArgs falls back to empty object when missing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"getPromptArgs falls back to empty object when missing"},{"ancestorTitles":["ExecutionContext"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"ExecutionContext hasPendingReview detects review payloads","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"hasPendingReview detects review payloads"},{"ancestorTitles":["ExecutionContext"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"ExecutionContext constructor enforces non-empty command","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"constructor enforces non-empty command"},{"ancestorTitles":["ExecutionContext","Type Guards","hasSinglePromptCommand()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ExecutionContext Type Guards hasSinglePromptCommand() returns true when commandType is single and convertedPrompt exists","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns true when commandType is single and convertedPrompt exists"},{"ancestorTitles":["ExecutionContext","Type Guards","hasSinglePromptCommand()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ExecutionContext Type Guards hasSinglePromptCommand() returns false when commandType is chain","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns false when commandType is chain"},{"ancestorTitles":["ExecutionContext","Type Guards","hasSinglePromptCommand()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ExecutionContext Type Guards hasSinglePromptCommand() returns false when convertedPrompt is missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns false when convertedPrompt is missing"},{"ancestorTitles":["ExecutionContext","Type Guards","hasChainCommand()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ExecutionContext Type Guards hasChainCommand() returns true when commandType is chain and steps exist","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns true when commandType is chain and steps exist"},{"ancestorTitles":["ExecutionContext","Type Guards","hasChainCommand()"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ExecutionContext Type Guards hasChainCommand() returns false when commandType is single","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns false when commandType is single"},{"ancestorTitles":["ExecutionContext","Type Guards","hasChainCommand()"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ExecutionContext Type Guards hasChainCommand() returns false when steps array is missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns false when steps array is missing"},{"ancestorTitles":["ExecutionContext","Type Guards","Edge Cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ExecutionContext Type Guards Edge Cases handles invalid commandType gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"handles invalid commandType gracefully"},{"ancestorTitles":["ExecutionContext","Type Guards","Edge Cases"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ExecutionContext Type Guards Edge Cases handles undefined parsedCommand safely","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"handles undefined parsedCommand safely"}],"endTime":1763312524262,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/execution/execution-context.test.ts","startTime":1763312524193,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["SymbolicCommandParser"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"SymbolicCommandParser detects chain operators","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"detects chain operators"},{"ancestorTitles":["SymbolicCommandParser"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SymbolicCommandParser detects framework and gate operators together with :: syntax","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"detects framework and gate operators together with :: syntax"},{"ancestorTitles":["SymbolicCommandParser"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SymbolicCommandParser supports legacy = gate operator with deprecation warning","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"supports legacy = gate operator with deprecation warning"},{"ancestorTitles":["SymbolicCommandParser"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SymbolicCommandParser buildParseResult produces execution plan","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"buildParseResult produces execution plan"},{"ancestorTitles":["SymbolicCommandParser"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SymbolicCommandParser detects gate operator with arguments containing equals signs","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"detects gate operator with arguments containing equals signs"},{"ancestorTitles":["SymbolicCommandParser"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SymbolicCommandParser does not match argument assignments as gate operators","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"does not match argument assignments as gate operators"},{"ancestorTitles":["SymbolicCommandParser"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SymbolicCommandParser handles multiple arguments before gate operator","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"handles multiple arguments before gate operator"},{"ancestorTitles":["SymbolicCommandParser","Framework Operator Detection"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SymbolicCommandParser Framework Operator Detection detects @FRAMEWORK prefix at start of command","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"detects @FRAMEWORK prefix at start of command"},{"ancestorTitles":["SymbolicCommandParser","Framework Operator Detection"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SymbolicCommandParser Framework Operator Detection detects @FRAMEWORK with various whitespace patterns","invocations":1,"location":null,"numPassingAsserts":12,"retryReasons":[],"status":"passed","title":"detects @FRAMEWORK with various whitespace patterns"},{"ancestorTitles":["SymbolicCommandParser","Framework Operator Detection"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SymbolicCommandParser Framework Operator Detection does not detect framework when @ prefix is absent","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"does not detect framework when @ prefix is absent"},{"ancestorTitles":["SymbolicCommandParser","Framework ID Extraction"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SymbolicCommandParser Framework ID Extraction preserves user-provided casing for framework IDs","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"preserves user-provided casing for framework IDs"},{"ancestorTitles":["SymbolicCommandParser","Framework ID Extraction"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SymbolicCommandParser Framework ID Extraction handles framework IDs with numbers and underscores without normalization","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"handles framework IDs with numbers and underscores without normalization"},{"ancestorTitles":["SymbolicCommandParser","Framework ID Extraction"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SymbolicCommandParser Framework ID Extraction correctly identifies framework ID boundaries","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"correctly identifies framework ID boundaries"},{"ancestorTitles":["SymbolicCommandParser","Case-Insensitive Input Handling"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SymbolicCommandParser Case-Insensitive Input Handling handles mixed case framework names consistently","invocations":1,"location":null,"numPassingAsserts":16,"retryReasons":[],"status":"passed","title":"handles mixed case framework names consistently"},{"ancestorTitles":["SymbolicCommandParser","Case-Insensitive Input Handling"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SymbolicCommandParser Case-Insensitive Input Handling preserves original case in frameworkId property","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"preserves original case in frameworkId property"},{"ancestorTitles":["SymbolicCommandParser","Combined Operators Parsing"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SymbolicCommandParser Combined Operators Parsing parses framework + chain + gate combination correctly","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"parses framework + chain + gate combination correctly"},{"ancestorTitles":["SymbolicCommandParser","Combined Operators Parsing"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SymbolicCommandParser Combined Operators Parsing handles framework with complex chain arguments containing special chars","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"handles framework with complex chain arguments containing special chars"},{"ancestorTitles":["SymbolicCommandParser","Combined Operators Parsing"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SymbolicCommandParser Combined Operators Parsing handles multiple framework prefixes gracefully","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"handles multiple framework prefixes gracefully"},{"ancestorTitles":["SymbolicCommandParser","Command type detection"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SymbolicCommandParser Command type detection marks single commandType when only framework and gate operators exist","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"marks single commandType when only framework and gate operators exist"},{"ancestorTitles":["SymbolicCommandParser","Command type detection"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SymbolicCommandParser Command type detection marks chain commandType and preserves argument inputs for each step","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"marks chain commandType and preserves argument inputs for each step"},{"ancestorTitles":["SymbolicCommandParser","Framework Prefix Stripping"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SymbolicCommandParser Framework Prefix Stripping strips framework prefix before chain parsing","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"strips framework prefix before chain parsing"},{"ancestorTitles":["SymbolicCommandParser","Framework Prefix Stripping"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SymbolicCommandParser Framework Prefix Stripping strips framework prefix with arguments correctly","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"strips framework prefix with arguments correctly"},{"ancestorTitles":["SymbolicCommandParser","Quoted Arguments Preservation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SymbolicCommandParser Quoted Arguments Preservation preserves quoted arguments containing special characters","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"preserves quoted arguments containing special characters"},{"ancestorTitles":["SymbolicCommandParser","Quoted Arguments Preservation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SymbolicCommandParser Quoted Arguments Preservation handles escaped quotes in arguments","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"handles escaped quotes in arguments"},{"ancestorTitles":["SymbolicCommandParser","Framework Validation Removal"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SymbolicCommandParser Framework Validation Removal does not throw for unknown frameworks","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"does not throw for unknown frameworks"}],"endTime":1763312524338,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/execution/parsers/symbolic-command-parser.test.ts","startTime":1763312524265,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ChainSessionManager review cleanup"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ChainSessionManager review cleanup cleans prompt-review sessions using shorter timeout","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"cleans prompt-review sessions using shorter timeout"},{"ancestorTitles":["ChainSessionManager review cleanup"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ChainSessionManager review cleanup getSession normalizes legacy sessions with zero currentStep","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"getSession normalizes legacy sessions with zero currentStep"},{"ancestorTitles":["ChainSessionManager step completion behavior"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ChainSessionManager step completion behavior advances currentStep when completing a real response","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"advances currentStep when completing a real response"},{"ancestorTitles":["ChainSessionManager step completion behavior"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ChainSessionManager step completion behavior preserves currentStep when completing placeholders","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"preserves currentStep when completing placeholders"}],"endTime":1763312524397,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/chain-session/chain-session-manager.test.ts","startTime":1763312524342,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["CommandParsingStage - commandType Integration","Simple command parsing"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"CommandParsingStage - commandType Integration Simple command parsing assigns commandType: single for single prompts","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"assigns commandType: single for single prompts"},{"ancestorTitles":["CommandParsingStage - commandType Integration","Simple command parsing"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CommandParsingStage - commandType Integration Simple command parsing updates commandType to chain for prompts with chainSteps","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"updates commandType to chain for prompts with chainSteps"},{"ancestorTitles":["CommandParsingStage - commandType Integration","Symbolic command parsing"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CommandParsingStage - commandType Integration Symbolic command parsing assigns commandType: chain for chain operator (-->)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"assigns commandType: chain for chain operator (-->)"},{"ancestorTitles":["CommandParsingStage - commandType Integration","Symbolic command parsing"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CommandParsingStage - commandType Integration Symbolic command parsing assigns commandType: single for single symbolic prompt without chain operator","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"assigns commandType: single for single symbolic prompt without chain operator"},{"ancestorTitles":["CommandParsingStage - commandType Integration","isChainExecution() integration"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CommandParsingStage - commandType Integration isChainExecution() integration returns true for commandType: chain","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns true for commandType: chain"},{"ancestorTitles":["CommandParsingStage - commandType Integration","isChainExecution() integration"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"CommandParsingStage - commandType Integration isChainExecution() integration returns false for commandType: single","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns false for commandType: single"},{"ancestorTitles":["CommandParsingStage - commandType Integration","isChainExecution() integration"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CommandParsingStage - commandType Integration isChainExecution() integration returns true for symbolic chain operator","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns true for symbolic chain operator"}],"endTime":1763312524478,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/execution/pipeline/parsing-stage-commandtype.test.ts","startTime":1763312524400,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["UnifiedCommandParser JSON symbolic commands"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"UnifiedCommandParser JSON symbolic commands applies structured step_args to execution plan and operators","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"applies structured step_args to execution plan and operators"},{"ancestorTitles":["UnifiedCommandParser framework handling"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UnifiedCommandParser framework handling parses framework commands without validation","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"parses framework commands without validation"},{"ancestorTitles":["UnifiedCommandParser framework handling"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"UnifiedCommandParser framework handling does not throw for unknown frameworks","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"does not throw for unknown frameworks"},{"ancestorTitles":["UnifiedCommandParser framework handling"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UnifiedCommandParser framework handling continues to support non-framework commands","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"continues to support non-framework commands"},{"ancestorTitles":["UnifiedCommandParser command type detection"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"UnifiedCommandParser command type detection assigns chain commandType for symbolic chains","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"assigns chain commandType for symbolic chains"},{"ancestorTitles":["UnifiedCommandParser command type detection"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UnifiedCommandParser command type detection ignores trailing chain delimiters when parsing chains","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"ignores trailing chain delimiters when parsing chains"},{"ancestorTitles":["UnifiedCommandParser command type detection"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"UnifiedCommandParser command type detection preserves chain discriminant when parsing JSON-wrapped commands","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"preserves chain discriminant when parsing JSON-wrapped commands"},{"ancestorTitles":["UnifiedCommandParser normalization and built-in handling"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UnifiedCommandParser normalization and built-in handling normalizes prompt ids and records warnings for simple commands","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"normalizes prompt ids and records warnings for simple commands"},{"ancestorTitles":["UnifiedCommandParser normalization and built-in handling"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UnifiedCommandParser normalization and built-in handling stringifies JSON args overrides in wrapped commands","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"stringifies JSON args overrides in wrapped commands"},{"ancestorTitles":["UnifiedCommandParser normalization and built-in handling"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"UnifiedCommandParser normalization and built-in handling accepts built-in commands even when prompts are missing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"accepts built-in commands even when prompts are missing"}],"endTime":1763312524550,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/execution/parsers/unified-command-parser.test.ts","startTime":1763312524481,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ExecutionPlanningStage"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"ExecutionPlanningStage creates default chain plan when hasChainCommand is true","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"creates default chain plan when hasChainCommand is true"},{"ancestorTitles":["ExecutionPlanningStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ExecutionPlanningStage delegates to execution planner for single prompts","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"delegates to execution planner for single prompts"},{"ancestorTitles":["ExecutionPlanningStage"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"ExecutionPlanningStage throws when parsed command lacks converted prompt and steps","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"throws when parsed command lacks converted prompt and steps"}],"endTime":1763312524620,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/execution/pipeline/planning-stage.test.ts","startTime":1763312524553,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["FrameworkResolutionStage"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"FrameworkResolutionStage skips when execution plan does not require framework","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"skips when execution plan does not require framework"},{"ancestorTitles":["FrameworkResolutionStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"FrameworkResolutionStage skips when framework system is disabled","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"skips when framework system is disabled"},{"ancestorTitles":["FrameworkResolutionStage"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"FrameworkResolutionStage throws when command is not a single prompt","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"throws when command is not a single prompt"},{"ancestorTitles":["FrameworkResolutionStage"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"FrameworkResolutionStage assigns framework context when prerequisites are met","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"assigns framework context when prerequisites are met"},{"ancestorTitles":["FrameworkResolutionStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"FrameworkResolutionStage propagates framework manager errors","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"propagates framework manager errors"},{"ancestorTitles":["FrameworkResolutionStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"FrameworkResolutionStage invokes hasSinglePromptCommand before resolving framework context","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"invokes hasSinglePromptCommand before resolving framework context"},{"ancestorTitles":["FrameworkResolutionStage"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"FrameworkResolutionStage replaces any existing framework context with the newly generated value","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"replaces any existing framework context with the newly generated value"},{"ancestorTitles":["FrameworkResolutionStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"FrameworkResolutionStage invokes the frameworkEnabled provider before attempting resolution","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"invokes the frameworkEnabled provider before attempting resolution"},{"ancestorTitles":["FrameworkResolutionStage"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"FrameworkResolutionStage passes frameworkOverride through userPreference for symbolic overrides","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"passes frameworkOverride through userPreference for symbolic overrides"}],"endTime":1763312524712,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/execution/pipeline/framework-stage.test.ts","startTime":1763312524624,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ChainOperatorExecutor"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"ChainOperatorExecutor renders first step instructions with guidance","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"renders first step instructions with guidance"},{"ancestorTitles":["ChainOperatorExecutor"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ChainOperatorExecutor injects stored previous step output when available","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"injects stored previous step output when available"},{"ancestorTitles":["ChainOperatorExecutor"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ChainOperatorExecutor handles empty chains gracefully","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"handles empty chains gracefully"},{"ancestorTitles":["ChainOperatorExecutor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ChainOperatorExecutor falls back when prompt is missing","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"falls back when prompt is missing"},{"ancestorTitles":["ChainOperatorExecutor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ChainOperatorExecutor renders provided step arguments correctly","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"renders provided step arguments correctly"},{"ancestorTitles":["ChainOperatorExecutor"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ChainOperatorExecutor prefers chainContext currentStepArgs over step args","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"prefers chainContext currentStepArgs over step args"},{"ancestorTitles":["ChainOperatorExecutor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ChainOperatorExecutor renders gate review step with attempt context","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"renders gate review step with attempt context"}],"endTime":1763312524787,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/execution/operators/chain-operator-executor.test.ts","startTime":1763312524714,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["FrameworkValidator"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"FrameworkValidator validateAndNormalize returns normalized identifier and definition","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"validateAndNormalize returns normalized identifier and definition"},{"ancestorTitles":["FrameworkValidator"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"FrameworkValidator validateAndNormalize enforces enabled requirement when requested","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"validateAndNormalize enforces enabled requirement when requested"},{"ancestorTitles":["FrameworkValidator"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"FrameworkValidator validateAndNormalize throws ValidationError for unknown frameworks","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"validateAndNormalize throws ValidationError for unknown frameworks"},{"ancestorTitles":["FrameworkValidator"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"FrameworkValidator exists reflects presence and enabled state","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"exists reflects presence and enabled state"},{"ancestorTitles":["FrameworkValidator"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"FrameworkValidator tryNormalize returns null for missing or invalid identifiers","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"tryNormalize returns null for missing or invalid identifiers"}],"endTime":1763312524864,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/frameworks/framework-validator.test.ts","startTime":1763312524792,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["InlineGateExtractionStage"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"InlineGateExtractionStage registers inline gates for command-level and step-level criteria","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"registers inline gates for command-level and step-level criteria"},{"ancestorTitles":["InlineGateExtractionStage"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"InlineGateExtractionStage registers each inline gate exactly once after symbolic parsing","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"registers each inline gate exactly once after symbolic parsing"},{"ancestorTitles":["InlineGateExtractionStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"InlineGateExtractionStage appends temporary gate ids to metadata and uses appropriate scopes","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"appends temporary gate ids to metadata and uses appropriate scopes"},{"ancestorTitles":["InlineGateExtractionStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"InlineGateExtractionStage skips invalid inline criteria and logs warnings","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"skips invalid inline criteria and logs warnings"}],"endTime":1763312524950,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/execution/pipeline/inline-gate-extraction-stage.test.ts","startTime":1763312524866,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ContentAnalyzer (structural mode)"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"ContentAnalyzer (structural mode) classifies simple variable substitution prompts as prompt execution type","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"classifies simple variable substitution prompts as prompt execution type"},{"ancestorTitles":["ContentAnalyzer (structural mode)"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ContentAnalyzer (structural mode) detects chain-style structure when multiple sequential steps exist","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"detects chain-style structure when multiple sequential steps exist"},{"ancestorTitles":["ContentAnalyzer (structural mode)"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ContentAnalyzer (structural mode) provides warnings about structural limitations when semantic analysis is unavailable","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"provides warnings about structural limitations when semantic analysis is unavailable"}],"endTime":1763312525010,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/semantic/semantic-analyzer.test.ts","startTime":1763312524953,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["GateEnhancementStage"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"GateEnhancementStage applies gate enhancement for simple prompts","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"applies gate enhancement for simple prompts"},{"ancestorTitles":["GateEnhancementStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GateEnhancementStage skips methodology gates when disabled","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"skips methodology gates when disabled"},{"ancestorTitles":["GateEnhancementStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GateEnhancementStage includes inline gate ids for single prompts without duplication","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"includes inline gate ids for single prompts without duplication"},{"ancestorTitles":["GateEnhancementStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GateEnhancementStage applies per-step inline gates for chain steps","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"applies per-step inline gates for chain steps"},{"ancestorTitles":["GateEnhancementStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GateEnhancementStage uses hasSinglePromptCommand to resolve single prompt context","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"uses hasSinglePromptCommand to resolve single prompt context"},{"ancestorTitles":["GateEnhancementStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GateEnhancementStage uses hasChainCommand to resolve chain gate context","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"uses hasChainCommand to resolve chain gate context"},{"ancestorTitles":["GateEnhancementStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GateEnhancementStage falls back to chain context when guard returns false but steps exist","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"falls back to chain context when guard returns false but steps exist"},{"ancestorTitles":["GateEnhancementStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GateEnhancementStage falls back to single prompt context when guard returns false","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"falls back to single prompt context when guard returns false"},{"ancestorTitles":["GateEnhancementStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GateEnhancementStage stores gate instructions for single prompt enhancements","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"stores gate instructions for single prompt enhancements"},{"ancestorTitles":["GateEnhancementStage"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GateEnhancementStage stores gate instructions per chain step metadata","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"stores gate instructions per chain step metadata"},{"ancestorTitles":["GateEnhancementStage"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GateEnhancementStage passes framework metadata into single prompt enhancement options","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"passes framework metadata into single prompt enhancement options"},{"ancestorTitles":["GateEnhancementStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GateEnhancementStage passes per-step categories when enhancing chain prompts","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"passes per-step categories when enhancing chain prompts"},{"ancestorTitles":["GateEnhancementStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GateEnhancementStage filters methodology gates for chain steps when disabled","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"filters methodology gates for chain steps when disabled"}],"endTime":1763312525106,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/execution/pipeline/gate-enhancement-stage.test.ts","startTime":1763312525012,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Parsing System Factory"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Parsing System Factory should create parsing system","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should create parsing system"},{"ancestorTitles":["Parsing System Factory"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Parsing System Factory should log initialization details","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"should log initialization details"},{"ancestorTitles":["Parsing System Factory"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Parsing System Factory should provide functional parsers","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should provide functional parsers"}],"endTime":1763312525205,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/execution/parsing-system.test.ts","startTime":1763312525110,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["GateInstructionInjector"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"GateInstructionInjector appends rendered guidance with footer metadata","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"appends rendered guidance with footer metadata"},{"ancestorTitles":["GateInstructionInjector"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GateInstructionInjector returns prompt unchanged when renderer produces empty text","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns prompt unchanged when renderer produces empty text"},{"ancestorTitles":["GateInstructionInjector"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GateInstructionInjector skips injection when no gate ids provided","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"skips injection when no gate ids provided"},{"ancestorTitles":["GateInstructionInjector"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GateInstructionInjector gracefully handles renderer errors and returns original prompt","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"gracefully handles renderer errors and returns original prompt"}],"endTime":1763312525278,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/gates/prompt-guidance/gate-instruction-injector.test.ts","startTime":1763312525212,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ArgumentParser schema enforcement"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentParser schema enforcement reports validation errors when schema validation fails","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"reports validation errors when schema validation fails"}],"endTime":1763312525352,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/execution/parsers/argument-parser.test.ts","startTime":1763312525280,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["SessionManagementStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SessionManagementStage skips session management when execution plan does not require session","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"skips session management when execution plan does not require session"},{"ancestorTitles":["SessionManagementStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SessionManagementStage creates new session when no existing session is found","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"creates new session when no existing session is found"},{"ancestorTitles":["SessionManagementStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SessionManagementStage resumes session when session id is active","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"resumes session when session id is active"},{"ancestorTitles":["SessionManagementStage"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SessionManagementStage resumes session via chain match when session id absent","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"resumes session via chain match when session id absent"},{"ancestorTitles":["SessionManagementStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SessionManagementStage reuses provided session id when no active session exists","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"reuses provided session id when no active session exists"},{"ancestorTitles":["SessionManagementStage"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SessionManagementStage force restart ignores existing session and creates a new one","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"force restart ignores existing session and creates a new one"},{"ancestorTitles":["SessionManagementStage"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SessionManagementStage restarts completed sessions when currentStep exceeds total steps","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"restarts completed sessions when currentStep exceeds total steps"},{"ancestorTitles":["SessionManagementStage"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SessionManagementStage derives total steps from converted prompt chain steps when not a chain command","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"derives total steps from converted prompt chain steps when not a chain command"}],"endTime":1763312525431,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/execution/pipeline/session-stage.test.ts","startTime":1763312525353,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["GateLoader temporary gate integration"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"GateLoader temporary gate integration returns temporary gate when available in registry","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"returns temporary gate when available in registry"}],"endTime":1763312525494,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/gates/core/gate-loader.test.ts","startTime":1763312525433,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["GateOperatorExecutor"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"GateOperatorExecutor passes validation results through and reports success","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"passes validation results through and reports success"},{"ancestorTitles":["GateOperatorExecutor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GateOperatorExecutor flags retry when gate fails with retry hints","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"flags retry when gate fails with retry hints"},{"ancestorTitles":["GateOperatorExecutor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GateOperatorExecutor handles temporary gate creation failure gracefully","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"handles temporary gate creation failure gracefully"},{"ancestorTitles":["GateOperatorExecutor"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GateOperatorExecutor reuses existing gateId without creating a new temporary gate (chain variant)","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"reuses existing gateId without creating a new temporary gate (chain variant)"},{"ancestorTitles":["GateOperatorExecutor"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GateOperatorExecutor stringifies structured execution results for validation (single variant)","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"stringifies structured execution results for validation (single variant)"},{"ancestorTitles":["GateOperatorExecutor"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GateOperatorExecutor createTemporaryGateDefinition preserves scope and renders numbered guidance","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"createTemporaryGateDefinition preserves scope and renders numbered guidance"}],"endTime":1763312525558,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/execution/operators/gate-operator-executor.test.ts","startTime":1763312525499,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ArgumentSchemaValidator"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentSchemaValidator passes validation when arguments match metadata","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"passes validation when arguments match metadata"},{"ancestorTitles":["ArgumentSchemaValidator"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ArgumentSchemaValidator returns schema issues when arguments violate constraints","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"returns schema issues when arguments violate constraints"}],"endTime":1763312525630,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/execution/parsers/argument-schema-validator.test.ts","startTime":1763312525560,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["PromptExecutionPipeline"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"PromptExecutionPipeline executes stages sequentially","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"executes stages sequentially"},{"ancestorTitles":["PromptExecutionPipeline"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PromptExecutionPipeline stops executing stages once a response is produced","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"stops executing stages once a response is produced"},{"ancestorTitles":["PromptExecutionPipeline"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PromptExecutionPipeline StepExecution stage can short-circuit pipeline for chain variants","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"StepExecution stage can short-circuit pipeline for chain variants"},{"ancestorTitles":["PromptExecutionPipeline"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PromptExecutionPipeline framework stage runs before gate enhancement and propagates context to formatting","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"framework stage runs before gate enhancement and propagates context to formatting"}],"endTime":1763312525708,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/execution/pipeline/pipeline-orchestrator.test.ts","startTime":1763312525633,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Gate Review Session Continuity","Synthetic Session Creation"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"Gate Review Session Continuity Synthetic Session Creation creates review session when gate validation is required","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"creates review session when gate validation is required"},{"ancestorTitles":["Gate Review Session Continuity","Synthetic Session Creation"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Gate Review Session Continuity Synthetic Session Creation uses explicit session_id when provided","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"uses explicit session_id when provided"},{"ancestorTitles":["Gate Review Session Continuity","Synthetic Session Creation"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Gate Review Session Continuity Synthetic Session Creation reuses session when matching chainId is active","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"reuses session when matching chainId is active"},{"ancestorTitles":["Gate Review Session Continuity","Session Continuity"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Gate Review Session Continuity Session Continuity maintains pending review across invocations with explicit session_id","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"maintains pending review across invocations with explicit session_id"},{"ancestorTitles":["Gate Review Session Continuity","Session Continuity"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Gate Review Session Continuity Session Continuity reflects cleared pending review when manager clears it","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"reflects cleared pending review when manager clears it"},{"ancestorTitles":["Gate Review Session Continuity","Multiple Prompts"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Gate Review Session Continuity Multiple Prompts creates separate sessions for different prompts","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"creates separate sessions for different prompts"}],"endTime":1763312525782,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/gates/gate-review-session-continuity.test.ts","startTime":1763312525713,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["tool routing detection"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"tool routing detection routes listprompts variations to prompt_manager with optional filters","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"routes listprompts variations to prompt_manager with optional filters"},{"ancestorTitles":["tool routing detection"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"tool routing detection routes help and status commands to system_control","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"routes help and status commands to system_control"},{"ancestorTitles":["tool routing detection"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"tool routing detection routes framework switch commands with extracted framework name","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"routes framework switch commands with extracted framework name"},{"ancestorTitles":["tool routing detection"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"tool routing detection routes analytics commands to system_control","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"routes analytics commands to system_control"},{"ancestorTitles":["tool routing detection"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"tool routing detection returns passthrough result when no routing is required","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns passthrough result when no routing is required"}],"endTime":1763312525855,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/mcp-tools/tool-routing.test.ts","startTime":1763312525785,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Methodology guides"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Methodology guides { name: 'CAGEERF', guide: [CAGEERFMethodologyGuide] } guide exposes the required interface","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"{ name: 'CAGEERF', guide: [CAGEERFMethodologyGuide] } guide exposes the required interface"},{"ancestorTitles":["Methodology guides"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Methodology guides { name: 'ReACT', guide: [ReACTMethodologyGuide] } guide exposes the required interface","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"{ name: 'ReACT', guide: [ReACTMethodologyGuide] } guide exposes the required interface"},{"ancestorTitles":["Methodology guides"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Methodology guides { name: '5W1H', guide: [FiveW1HMethodologyGuide] } guide exposes the required interface","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"{ name: '5W1H', guide: [FiveW1HMethodologyGuide] } guide exposes the required interface"},{"ancestorTitles":["Methodology guides"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Methodology guides { name: 'SCAMPER', guide: [SCAMPERMethodologyGuide] } guide exposes the required interface","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"{ name: 'SCAMPER', guide: [SCAMPERMethodologyGuide] } guide exposes the required interface"},{"ancestorTitles":["Methodology guides"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Methodology guides { name: 'CAGEERF', guide: [CAGEERFMethodologyGuide] } prompt guidance returns structured suggestions","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"{ name: 'CAGEERF', guide: [CAGEERFMethodologyGuide] } prompt guidance returns structured suggestions"},{"ancestorTitles":["Methodology guides"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Methodology guides { name: 'ReACT', guide: [ReACTMethodologyGuide] } prompt guidance returns structured suggestions","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"{ name: 'ReACT', guide: [ReACTMethodologyGuide] } prompt guidance returns structured suggestions"},{"ancestorTitles":["Methodology guides"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Methodology guides { name: '5W1H', guide: [FiveW1HMethodologyGuide] } prompt guidance returns structured suggestions","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"{ name: '5W1H', guide: [FiveW1HMethodologyGuide] } prompt guidance returns structured suggestions"},{"ancestorTitles":["Methodology guides"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Methodology guides { name: 'SCAMPER', guide: [SCAMPERMethodologyGuide] } prompt guidance returns structured suggestions","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"{ name: 'SCAMPER', guide: [SCAMPERMethodologyGuide] } prompt guidance returns structured suggestions"},{"ancestorTitles":["Methodology guides"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Methodology guides { name: 'CAGEERF', guide: [CAGEERFMethodologyGuide] } template processing provides actionable steps","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"{ name: 'CAGEERF', guide: [CAGEERFMethodologyGuide] } template processing provides actionable steps"},{"ancestorTitles":["Methodology guides"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"Methodology guides { name: 'ReACT', guide: [ReACTMethodologyGuide] } template processing provides actionable steps","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"{ name: 'ReACT', guide: [ReACTMethodologyGuide] } template processing provides actionable steps"},{"ancestorTitles":["Methodology guides"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Methodology guides { name: '5W1H', guide: [FiveW1HMethodologyGuide] } template processing provides actionable steps","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"{ name: '5W1H', guide: [FiveW1HMethodologyGuide] } template processing provides actionable steps"},{"ancestorTitles":["Methodology guides"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"Methodology guides { name: 'SCAMPER', guide: [SCAMPERMethodologyGuide] } template processing provides actionable steps","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"{ name: 'SCAMPER', guide: [SCAMPERMethodologyGuide] } template processing provides actionable steps"}],"endTime":1763312525939,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/frameworks/methodology/methodology-guides.test.ts","startTime":1763312525857,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["review-utils"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"review-utils buildReviewInstructions deduplicates while preserving order","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"buildReviewInstructions deduplicates while preserving order"},{"ancestorTitles":["review-utils"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"review-utils buildReviewInstructions falls back to default text when gate instructions missing","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"buildReviewInstructions falls back to default text when gate instructions missing"},{"ancestorTitles":["review-utils"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"review-utils composeReviewPrompt returns combined markdown with metadata","invocations":1,"location":null,"numPassingAsserts":11,"retryReasons":[],"status":"passed","title":"composeReviewPrompt returns combined markdown with metadata"},{"ancestorTitles":["review-utils"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"review-utils parseLLMReview detects PASS verdicts with justification","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"parseLLMReview detects PASS verdicts with justification"},{"ancestorTitles":["review-utils"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"review-utils parseLLMReview detects FAIL verdicts and captures reasoning","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"parseLLMReview detects FAIL verdicts and captures reasoning"}],"endTime":1763312526002,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/gates/core/review-utils.test.ts","startTime":1763312525941,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["OperatorValidationStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OperatorValidationStage normalizes framework operators and updates metadata","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"normalizes framework operators and updates metadata"},{"ancestorTitles":["OperatorValidationStage"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OperatorValidationStage skips validation when validator is unavailable","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"skips validation when validator is unavailable"}],"endTime":1763312526075,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/execution/pipeline/operator-validation-stage.test.ts","startTime":1763312526008,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ResponseFormatter.normalize"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"ResponseFormatter.normalize returns tool response unchanged when content array provided","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"returns tool response unchanged when content array provided"},{"ancestorTitles":["ResponseFormatter.normalize"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ResponseFormatter.normalize wraps plain string into ToolResponse","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"wraps plain string into ToolResponse"},{"ancestorTitles":["ResponseFormatter.normalize"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ResponseFormatter.normalize handles message objects without content array","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"handles message objects without content array"},{"ancestorTitles":["ResponseFormatter.normalize"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ResponseFormatter.normalize adds structured metadata only for chain executions","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"adds structured metadata only for chain executions"}],"endTime":1763312526156,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/mcp-tools/prompt-engine/response-formatter.test.ts","startTime":1763312526078,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["EngineValidator.validateWithGates"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"EngineValidator.validateWithGates builds reviewRequest when gate requires explicit review","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"builds reviewRequest when gate requires explicit review"},{"ancestorTitles":["EngineValidator.validateWithGates"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"EngineValidator.validateWithGates does not create reviewRequest when review not explicit","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"does not create reviewRequest when review not explicit"}],"endTime":1763312526219,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/mcp-tools/prompt-engine/engine-validator.test.ts","startTime":1763312526158,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ExecutionPlanner"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ExecutionPlanner detects chain strategy when parsed command contains chain operator","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"detects chain strategy when parsed command contains chain operator"},{"ancestorTitles":["ExecutionPlanner"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ExecutionPlanner auto-assigns gates based on category and complexity","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"auto-assigns gates based on category and complexity"},{"ancestorTitles":["ExecutionPlanner"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ExecutionPlanner respects gate validation overrides","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"respects gate validation overrides"},{"ancestorTitles":["ExecutionPlanner"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"ExecutionPlanner prefers chain strategy when parsed command commandType is chain","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"prefers chain strategy when parsed command commandType is chain"},{"ancestorTitles":["ExecutionPlanner"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ExecutionPlanner requires framework when execution plan has override even if disabled globally","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"requires framework when execution plan has override even if disabled globally"},{"ancestorTitles":["ExecutionPlanner"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"ExecutionPlanner omits methodology gates when prompt disables framework gates","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"omits methodology gates when prompt disables framework gates"}],"endTime":1763312526289,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/execution/planning/execution-planner.test.ts","startTime":1763312526223,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["StepResponseCaptureStage"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"StepResponseCaptureStage captures previous step when session resumes mid-chain","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"captures previous step when session resumes mid-chain"},{"ancestorTitles":["StepResponseCaptureStage"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"StepResponseCaptureStage skips capture when there is no previous step","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"skips capture when there is no previous step"},{"ancestorTitles":["StepResponseCaptureStage"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"StepResponseCaptureStage skips placeholder capture for newly created sessions","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"skips placeholder capture for newly created sessions"}],"endTime":1763312526361,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/execution/pipeline/step-response-capture-stage.test.ts","startTime":1763312526291,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["ResponseFormattingStage"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"ResponseFormattingStage formats execution results into ToolResponse","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"formats execution results into ToolResponse"}],"endTime":1763312526425,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/execution/pipeline/response-formatting-stage.test.ts","startTime":1763312526363,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["GateServiceFactory"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"GateServiceFactory creates compositional service when llm disabled","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"creates compositional service when llm disabled"},{"ancestorTitles":["GateServiceFactory"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"GateServiceFactory creates semantic service when llm enabled","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"creates semantic service when llm enabled"},{"ancestorTitles":["CompositionalGateService"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"CompositionalGateService injects gate instructions without validation","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"injects gate instructions without validation"},{"ancestorTitles":["SemanticGateService"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SemanticGateService gracefully degrades when validation not implemented","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"gracefully degrades when validation not implemented"}],"endTime":1763312526495,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/gates/services/gate-services.test.ts","startTime":1763312526431,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["TextReferenceManager.buildChainVariables"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"TextReferenceManager.buildChainVariables exposes canonical and alias keys without requiring step+1 naming","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"exposes canonical and alias keys without requiring step+1 naming"}],"endTime":1763312526558,"message":"","name":"/home/minipuft/Applications/claude-prompts-mcp/server/tests/unit/text-references/text-reference-manager.test.ts","startTime":1763312526497,"status":"passed","summary":""}],"wasInterrupted":false,"coverageMap":{}}
